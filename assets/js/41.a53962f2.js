(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{273:function(t,e,v){t.exports=v.p+"assets/img/populated-efi.8d46cc52.png"},463:function(t,e,v){t.exports=v.p+"assets/img/ia32-x64.aa5dccd9.png"},464:function(t,e,v){t.exports=v.p+"assets/img/efi-moved.87262fda.png"},465:function(t,e,v){t.exports=v.p+"assets/img/base-efi.7500e22d.png"},466:function(t,e,v){t.exports=v.p+"assets/img/clean-efi.10fb2a26.png"},596:function(t,e,v){"use strict";v.r(e);var l=v(10),i=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"添加基础opencore文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加基础opencore文件"}},[t._v("#")]),t._v(" 添加基础OpenCore文件")]),t._v(" "),e("p",[t._v("要设置OpenCore的文件夹结构，你需要抓取"),e("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenCorePkg的发行版"),e("OutboundLink")],1),t._v("中的EFI文件夹。注意，它们可能位于IA32或X64文件夹下，前者用于32位固件，后者用于64位固件:")]),t._v(" "),e("p",[e("img",{attrs:{src:v(463),alt:""}})]),t._v(" "),e("p",[t._v("关于DEBUG和RELEASE版本:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("DEBUG")]),t._v(": 可以极大地帮助调试启动问题，但是会增加一些明显的启动时间延迟(例如:3-5秒到选择器)。安装之后，你可以轻松地过渡到RELEASE版本")]),t._v(" "),e("li",[e("strong",[t._v("RELEASE")]),t._v(": 更快的启动时间，但是在OpenCore中几乎没有提供有用的调试信息，这使得故障排除更加困难。")])]),t._v(" "),e("p",[t._v("下载后，将EFI文件夹(来自OpenCorePkg)放在EFI分区的根目录:")]),t._v(" "),e("p",[e("img",{attrs:{src:v(464),alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("注意")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Windows用户:")]),t._v(" 你需要将EFI文件夹放在你之前创建的USB驱动器的根目录下")]),t._v(" "),e("li",[e("strong",[t._v("Linux用户:")]),t._v(" 这是我们之前创建的"),e("code",[t._v("OPENCORE")]),t._v("分区\n"),e("ul",[e("li",[t._v("注意，方法1只创建1个分区，而方法2创建2个分区")])])])]),t._v(" "),e("p",[t._v("现在让我们打开EFI文件夹，看看里面有什么:")]),t._v(" "),e("p",[e("img",{attrs:{src:v(465),alt:"基础EFI文件夹"}})]),t._v(" "),e("p",[t._v("现在你会注意到它在"),e("code",[t._v("Drivers")]),t._v("和"),e("code",[t._v("Tools")]),t._v("文件夹中有一堆文件，其中大部分我们都不想要:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("避免驱动程序使用以下内容")]),t._v("(如果适用):")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("驱动")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("状态")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenUsbKbDxe.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"},attrs:{rowspan:"3"}},[e("span",{staticStyle:{color:"#30BCD5"}},[t._v(" 可选 ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("非uefi系统必选(2012年前)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenPartitionDxe.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("引导macOS 10.7-10.9恢复需要")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ResetNvramEntry.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("重置系统的NVRAM需要")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenRuntime.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("span",{staticStyle:{color:"red"}},[t._v(" 必选 ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("正确操作所需")])])])]),t._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("有关提供的驱动程序的更多信息")]),t._v(" "),e("ul",[e("li",[t._v("AudioDxe.efi\n"),e("ul",[e("li",[t._v("与macOS中的音频支持无关")])])]),t._v(" "),e("li",[t._v("CrScreenshotDxe.efi\n"),e("ul",[e("li",[t._v("在UEFI中用于截图，我们不需要")])])]),t._v(" "),e("li",[t._v("HiiDatabase.efi\n"),e("ul",[e("li",[t._v("用于修复GUI支持，像OpenShell.efi 在 Sandy Bridge 和更老的")]),t._v(" "),e("li",[t._v("引导时不需要")])])]),t._v(" "),e("li",[t._v("NvmExpressDxe.efi\n"),e("ul",[e("li",[t._v("当固件中没有内置NVMe驱动程序时，用于Haswell和更早的版本")]),t._v(" "),e("li",[t._v("除非你知道自己在做什么，否则不要使用")])])]),t._v(" "),e("li",[t._v("OpenCanopy.efi\n"),e("ul",[e("li",[t._v("这是OpenCore的可选GUI，我们将讨论如何在"),e("a",{attrs:{href:"https://dortania.github.io/OpenCore-Post-Install/cosmetic/gui.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装后"),e("OutboundLink")],1),t._v(" 中设置这个，所以现在删除这个")])])]),t._v(" "),e("li",[t._v("OpenHfsPlus.efi\n"),e("ul",[e("li",[t._v("开源的HFS Plus驱动程序，相当慢，所以我们建议不要使用，除非你知道你在做什么。")])])]),t._v(" "),e("li",[t._v("OpenPartitionDxe.efi\n"),e("ul",[e("li",[t._v("在OS X 10.7到10.9上启动恢复需要\n"),e("ul",[e("li",[t._v("注意:OpenDuet用户(例如:没有UEFI)将内置这个驱动程序，不需要它")])])])])]),t._v(" "),e("li",[t._v("OpenUsbKbDxe.efi\n"),e("ul",[e("li",[t._v("这个OpenCore picker用于 "),e("strong",[t._v("传统系统运行拾取器")]),t._v(", "),e("a",{attrs:{href:"https://applelife.ru/threads/opencore-obsuzhdenie-i-ustanovka.2944066/page-176#post-856653",target:"_blank",rel:"noopener noreferrer"}},[t._v("不推荐，甚至在Ivy Bridge和更新的系统上有害"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[t._v("Ps2KeyboardDxe.efi + Ps2MouseDxe.efi\n"),e("ul",[e("li",[t._v("很明显，当你需要它时，USB键盘和鼠标用户不需要它")]),t._v(" "),e("li",[t._v("提醒: PS2 ≠ USB")])])]),t._v(" "),e("li",[t._v("ResetNvramEntry.efi\n"),e("ul",[e("li",[t._v("允许从启动选择器重置NVRAM")])])]),t._v(" "),e("li",[t._v("UsbMouseDxe.efi\n"),e("ul",[e("li",[t._v("与OpenUsbKbDxe类似的想法，应该只需要在使用DuetPkg的传统系统上")])])]),t._v(" "),e("li",[t._v("XhciDxe.efi\n"),e("ul",[e("li",[t._v("当固件中没有XHCI驱动程序时，用于Sandy Bridge和更老的")]),t._v(" "),e("li",[t._v("只有在旧机器上使用USB 3.0扩展卡时才需要")])])])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("避免使用以下工具:")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("工具")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("状态")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenShell.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("span",{staticStyle:{color:"#30BCD5"}},[t._v(" 可选 ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("推荐使用，便于调试")])])])]),t._v(" "),e("p",[t._v("清理后的EFI:")]),t._v(" "),e("p",[e("img",{attrs:{src:v(466),alt:"清洁EFI"}})]),t._v(" "),e("p",[t._v("现在你可以将"),e("strong",[t._v("你的")]),t._v("必要的固件驱动程序(.efi)放在_Drivers_文件夹中，将kext /ACPI放在它们各自的文件夹中。有关应该使用哪些文件的更多信息，请参阅"),e("RouterLink",{attrs:{to:"/ktext.html"}},[t._v("收集文件")])],1),t._v(" "),e("ul",[e("li",[t._v("请注意，来自Clover的UEFI驱动程序不支持OpenCore!(EmuVariableUEFI, AptioMemoryFix, OsxAptioFixDrv,等). 请参阅 "),e("a",{attrs:{href:"https://github.com/sumingyd/OpenCore-Install-Guide/blob/master/clover-conversion/clover-efi.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Clover固件驱动程序转换"),e("OutboundLink")],1),t._v(" 了解更多支持的驱动程序和合并到OpenCore的驱动程序。")])]),t._v(" "),e("p",[t._v("下面是填充过的EFI "),e("strong",[e("em",[t._v("可能")])]),t._v(" 的样子(你的可能会不同):")]),t._v(" "),e("p",[e("img",{attrs:{src:v(273),alt:"填充EFI文件夹"}})]),t._v(" "),e("p",[e("strong",[t._v("提醒")]),t._v(":")]),t._v(" "),e("ul",[e("li",[t._v("将ssdt和自定义dsdt ("),e("code",[t._v(".aml")]),t._v(")放入ACPI文件夹")]),t._v(" "),e("li",[t._v("kext ("),e("code",[t._v(".kext")]),t._v(")放入Kexts文件夹")]),t._v(" "),e("li",[t._v("将固件驱动程序("),e("code",[t._v(".efi")]),t._v(")放在drivers文件夹中")])]),t._v(" "),e("h1",{attrs:{id:"现在-所有这些都完成了-前往收集文件-获得所需的kext和固件驱动程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#现在-所有这些都完成了-前往收集文件-获得所需的kext和固件驱动程序"}},[t._v("#")]),t._v(" 现在，所有这些都完成了，前往"),e("RouterLink",{attrs:{to:"/ktext.html"}},[t._v("收集文件")]),t._v(" 获得所需的kext和固件驱动程序")],1)])}),[],!1,null,null,null);e.default=i.exports}}]);